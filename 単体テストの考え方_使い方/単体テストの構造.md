# 単体テストの構造

### AAAパターン

AAAパターンは、以下の3つの部分で構成されています。

1. Arrange
2. Act
3. Assert

それぞれの部分の説明は以下の通りです。

1. Arrange
    - テストの準備部分
    - テストの前提条件を設定する
    - 例えば、テストデータの作成や、テスト対象のオブジェクトの生成など
    
2. Act
    - テストの実行部分
    - テスト対象のメソッドを呼び出す
    - 例えば、テスト対象のメソッドを呼び出すなど
    
3. Assert
    - テストの検証部分
    - テスト対象のメソッドの結果を検証する
    - 例えば、期待値と実際値を比較するなど
    
Given When Then

Given
When
Then
それぞれの部分の説明は以下の通りです。

1. Given
    - テストの準備部分
    - テストの前提条件を設定する
    - 例えば、テストデータの作成や、テスト対象のオブジェクトの生成など
    
2. When
    - テストの実行部分
    - テスト対象のメソッドを呼び出す
    - 例えば、テスト対象のメソッドを呼び出すなど
    
3. Then
    - テストの検証部分
    - テスト対象のメソッドの結果を検証する
    - 例えば、期待値と実際値を比較するなど

AAAとGiven When Thenは同じ意味です。
違いは、Given When Thenの方が非開発者でも理解しやすいです。

単体テストおいて、回避するべきことは
- 同じフェーズを複数回書くこと
- if文を書くこと
  分岐のない単純なコードにしなければならないからです。
- 各フェーズのサイズ
  Arrangeフェーズが最も大きくなる
  Actフェーズは1行で終わる
- コメントで各フェーズを明確する
- テストフィクスチャとは
  Arrangeフェーズで設定するデータやオブジェクトを指します。
  例えば、テストデータの作成や、テスト対象のオブジェクトの生成など
- テストフィクスチャとファクトリの違い
  テストフィクスチャは、Arrangeフェーズで設定するデータやオブジェクトを指します。
  ファクトリは、テストフィクスチャを生成するためのクラスを指します。
- テストフィクスチャとファクトリのメリット
  テストフィクスチャとファクトリは、Arrangeフェーズで設定するデータやオブジェクトを指します。
  ファクトリは、テストフィクスチャを生成するためのクラスを指します。
- 単体テストの名前の付け方
  厳格な命名規則に縛られないようにする
  問題領域のことに精通している非開発者でも理解しやすいようにする
  アンダースコアを区切り文字として使用する
  アンチパターン
    shoud beは避けた方が良い
    なぜなら、べきであるという意味が曖昧だからです。
    そのため、is(である)にするべき
    


